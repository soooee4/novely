"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[864],{8864:(e,o,t)=>{t.r(o),t.d(o,{default:()=>qe});var n=t(2791),i=t(7689),r=t(7630),a=t(697),l=t(890),s=t(7545),c=t(6936),d=t(3826),h=t(184);const g=(0,r.ZP)(a.Z)({width:"100%",height:150,display:"flex",margin:"0 auto",paddingTop:20}),x=(0,r.ZP)(a.Z)({width:"70%",height:"100%",display:"flex",flexDirection:"column"}),u=(0,r.ZP)(a.Z)({flexGrow:1,height:"100%",display:"flex",flexDirection:"column"}),p=(0,r.ZP)(a.Z)({width:"100%",minHeight:30,marginBottom:5}),b=(0,r.ZP)(a.Z)({width:"100%",minHeight:16}),m=(0,r.ZP)(a.Z)({flexGrow:1,marginTop:12,marginBottom:15}),_=(0,r.ZP)(l.Z)({fontSize:23,fontWeight:800}),f=(0,r.ZP)(l.Z)({fontSize:15,"&:hover":{cursor:"pointer",fontWeight:900}}),Z=(0,r.ZP)(l.Z)({fontSize:13,color:d.r$.GRAY}),S=(0,r.ZP)(l.Z)({fontSize:23,marginTop:30,marginBottom:10,marginLeft:"auto"}),j=(0,r.ZP)(a.Z)({flex:1,display:"flex",width:70,marginLeft:"auto"}),T=e=>(0,h.jsxs)(g,{children:[(0,h.jsxs)(x,{children:[(0,h.jsx)(p,{children:(0,h.jsx)(_,{children:e.title})}),(0,h.jsx)(b,{children:e.main_author_id?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(f,{onClick:()=>{e.showModal(),e.setPopup("authorDetail"),e.setAuthorId(e.main_author_id),e.setAuthorNickName(e.main_author_nickname)},children:["By.",e.main_author_nickname]}),e.sub_author_id&&(0,h.jsxs)(f,{onClick:()=>{e.showModal(),e.setPopup("authorDetail"),e.setAuthorId(e.sub_author_id),e.setAuthorNickName(e.sub_author_nickname)},children:["By.",e.sub_author_nickname]})]}):(0,h.jsxs)(f,{onClick:()=>{e.showModal(),e.setPopup("authorDetail"),e.setAuthorId(e.created_user),e.setAuthorNickName(e.user_nickname)},children:["By.",e.user_nickname]})}),(0,h.jsx)(m,{children:(0,h.jsx)(Z,{children:e.description&&e.description.replace(/\\n/g," ")})})]}),(0,h.jsxs)(u,{children:[(0,h.jsx)(S,{children:e.novelDdayCounter}),(0,h.jsxs)(j,{onClick:()=>{e.showModal(),void 0!==e.complete_seqno?e.setPopup("viewComNov"):e.setPopup("viewIncomNov")},children:[(0,h.jsx)(c.Z,{type:d.cO.ICON.SEARCH}),(0,h.jsx)(s.Z,{type:d.cO.BUTTON.BASIC,name:d.GP.BUTTONS.VIEWNOVEL,height:10,margin:"5px 0 0 -12px"})]})]})]});var v=t(9281),N=t(5527),k=t(9836),w=t(3382),C=t(5855),P=t(3994);const E=e=>(0,h.jsx)(v.Z,{component:N.Z,sx:{width:"100%",boxShadow:"none",border:"1px solid #E0E0E0"},children:(0,h.jsx)(k.Z,{sx:{minWidth:650},"aria-label":"simple table",children:(0,h.jsx)(w.Z,{children:e.subNovelData&&!1===e.isPopular?e.subNovelData.map(((o,t)=>(0,h.jsxs)(C.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,h.jsx)(P.Z,{onClick:()=>{e.setNovelIdx(t),e.changeState(),e.showModal()},align:"center",size:"small",sx:{width:"55%",textAlign:"left",cursor:"pointer"},children:(0,h.jsx)("div",{children:o.sub_title})}),(0,h.jsxs)(P.Z,{sx:{width:"30%"},children:["By.",o.user_nickname]}),(0,h.jsxs)(P.Z,{align:"center",children:["\ud83d\udc4d ",o.sub_like_count]}),(0,h.jsx)(P.Z,{align:"center"})]},t))):e.popularOrder.map(((o,t)=>(0,h.jsxs)(C.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,h.jsx)(P.Z,{onClick:()=>{e.setNovelIdx(t),e.changeState(),e.showModal()},align:"center",size:"small",sx:{width:"55%",textAlign:"left",cursor:"pointer"},children:(0,h.jsx)("div",{children:o.sub_title})}),(0,h.jsxs)(P.Z,{sx:{width:"30%"},children:["By.",o.user_nickname]}),(0,h.jsxs)(P.Z,{align:"center",children:["\ud83d\udc4d ",o.sub_like_count]}),(0,h.jsx)(P.Z,{align:"center"})]},t)))})})});var O=t(1024),B=t(472);const y=(0,r.ZP)(a.Z)({width:"100%",height:"100%",display:"flex",flexDirection:"column",padding:"0 3%",boxSizing:"border-box"}),I=(0,r.ZP)(l.Z)({marginBottom:15,fontSize:18,fontWeight:"bold"}),D=(0,r.ZP)(l.Z)({fontSize:17,whiteSpace:"pre-wrap"}),R=(0,r.ZP)(a.Z)({overflow:"auto",paddingRight:12,"&::-webkit-scrollbar":{width:5},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa",borderRadius:5},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"}}),z=e=>{const[o,t]=(0,n.useState)({});return(0,n.useEffect)((()=>{(0,B.Yu)("novel/getCompleteNovel",{complete_seqno:e.complete_seqno}).then((function(e){t(e)})).catch((e=>{console.log(e)}))}),[]),(0,h.jsxs)(y,{children:[(0,h.jsx)(I,{children:o[0]&&o[0].complete_novel_title}),(0,h.jsx)(R,{children:(0,h.jsx)(D,{children:o[0]&&o[0].complete_novel_content.replaceAll(/(?:\r|\n\|r\n|\\n|\\r|\\n\\n|\\r\\n)/g,"\r\n").replaceAll("\\","")})})]})},A=(0,r.ZP)(a.Z)({width:"100%",display:"flex",flexDirection:"column",padding:"0 3%",paddingRight:"1.5%",boxSizing:"border-box",paddingTop:"20px",height:"100%"}),$=(0,r.ZP)(a.Z)({width:"100%",display:"flex",boxSizing:"border-box",flexShrink:0}),G=(0,r.ZP)(l.Z)({marginBottom:15,fontSize:18,fontWeight:"bold"}),L=(0,r.ZP)(l.Z)({fontSize:15,whiteSpace:"pre-wrap"}),W=(0,r.ZP)(a.Z)({overflow:"auto",height:"100%","&::-webkit-scrollbar":{width:7},"&::-webkit-scrollbar-thumb":{background:"#aaa",borderRadius:5},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"}}),q=e=>{const[o,t]=(0,n.useState)({});return(0,n.useEffect)((()=>{(0,B.Yu)("novel/getMainNovel",{novel_seqno:e.main_seqno}).then((function(o){t(o[0]);const n={title:o[0].title,content:o[0].content,main_seqno:o[0].main_seqno};e.setMainNovel(n)})).catch((e=>{console.log(e)}))}),[]),(0,h.jsxs)(A,{children:[(0,h.jsxs)($,{children:[(0,h.jsx)(G,{children:o&&o.title}),o.created_user!==e.login_id&&(0,h.jsx)(s.Z,{type:d.cO.BUTTON.BASIC,backgroundColor:d.r$.WHITE,color:"#121212"===e.color?d.r$.WHITE:d.r$.BLACK,name:d.GP.BUTTONS.GOTOWRITE,margin:"-30px 0px 0px auto",padding:0,changeState:e.changeState})]}),(0,h.jsx)(W,{children:(0,h.jsx)(L,{children:o&&o.content?o.content.split("\\n").map(((e,o)=>(0,h.jsxs)(h.Fragment,{children:[e,(0,h.jsx)("br",{})]}))):""})})]})};var U=t(2630);const M=(0,r.ZP)(a.Z)({width:"100%",height:"100%",display:"flex",flexDirection:"column",padding:"0 3%",boxSizing:"border-box",marinTop:"-30px"}),Y=(0,r.ZP)(a.Z)({width:"100%",height:"88%",display:"flex",gap:20,marginTop:20,boxSizing:"border-box"}),H=(0,r.ZP)(a.Z)({overflow:"auto",height:"100%","&::-webkit-scrollbar":{width:5},"&::-webkit-scrollbar-thumb":{background:"#aaa",borderRadius:5},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"}}),V=(0,r.ZP)(a.Z)({flex:1,height:"100%",border:"1px solid ".concat(d.r$.GRAY),borderRadius:10,padding:10,paddingRight:5,boxSizing:"border-box"}),K=(0,r.ZP)(a.Z)({flex:1,height:"100%",boxSizing:"border-box",borderRadius:10,padding:10,paddingRight:5,border:"1px solid ".concat(d.r$.GRAY),"&>textarea::-webkit-scrollbar":{width:5},"&>textarea::-webkit-scrollbar-thumb":{background:"#aaa",borderRadius:5},"&>textarea::-webkit-scrollbar-track":{backgroundColor:"transparent"}}),F=(0,r.ZP)(a.Z)({width:"100%",display:"flex",boxSizing:"border-box"}),X=(0,r.ZP)(l.Z)({fontSize:13,margin:"3px 5px 0px auto"}),J=(0,r.ZP)(l.Z)({fontSize:15,marginRight:5}),Q=e=>{const[o,t]=(0,n.useState)(""),[i,r]=(0,n.useState)(""),[a,l]=(0,n.useState)(0);return(0,h.jsxs)(M,{children:[(0,h.jsxs)(F,{children:[(0,h.jsx)(U.Z,{fullWidth:!0,defaultValue:e.mainNovel.title,onChange:e=>{t(e.target.value)},color:e.color}),(0,h.jsx)(s.Z,{type:d.cO.BUTTON.BASIC,color:"#121212"===e.color?d.r$.WHITE:d.r$.BLACK,name:d.GP.BUTTONS.GOTONEXT,margin:"-20px 0px 0px auto",postSubNovel:()=>{""!==i?o.length>50?alert(d.$B.ERROR.TITLE_INVALIDATION):e.setTitleContent({title:o,content:i,main_novel_seqno:e.mainNovel.main_seqno}):alert(d.$B.ERROR.WRITE_CONTENT)},changeState:""!==i&&o.length<=50&&e.changeState})]}),(0,h.jsxs)(Y,{children:[(0,h.jsx)(V,{children:(0,h.jsx)(H,{children:(0,h.jsx)(J,{children:e.mainNovel.content&&e.mainNovel.content?e.mainNovel.content.split("\\n").map(((e,o)=>(0,h.jsxs)("div",{children:[e.replace("\\r",""),(0,h.jsx)("br",{})]},o))):""})})}),(0,h.jsx)(K,{children:(0,h.jsx)("textarea",{style:(c=e.color,{border:"none",width:"100%",height:"100%",boxSizing:"borderBox",resize:"none",outline:"none",fontSize:17,boxSizing:"border-box",backgroundColor:c,color:"#121212"===c?"white":"black"}),onChange:e=>{r(e.target.value),l(e.target.value.length)},maxLength:1e4})})]}),1e4===a?(0,h.jsxs)(X,{style:{color:"red"},children:[a,"/10000"]}):(0,h.jsxs)(X,{children:[a,"/10000"]})]});var c},ee=(0,r.ZP)(l.Z)({fontSize:18,textAlign:"center"}),oe=(0,r.ZP)(l.Z)({fontSize:10,paddingLeft:25,paddingRight:25,marginTop:5,marginBottom:15}),te=e=>(0,h.jsxs)(a.Z,{sx:{width:280,paddingTop:5},children:[(0,h.jsx)(a.Z,{sx:{width:180,height:180,backgroundImage:"url(".concat("http://54.180.116.208:8080/profile","/").concat(e.user_image,")"),backgroundSize:"cover",borderRadius:"50%",margin:"0 auto",marginTop:4,marginBottom:2}}),(0,h.jsx)(ee,{children:e.authorNickName}),(0,h.jsx)(oe,{children:"\uc791\uac00 \uc18c\uac2f\ub9d0"}),(0,h.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center"}})]});var ne=t(7779);const ie=(0,r.ZP)(a.Z)({width:"100%",height:"100%",display:"flex",gap:20}),re=(0,r.ZP)(a.Z)({flexGrow:1,height:"100%",width:"80%",margin:"0 auto",display:"flex",flexWrap:"wrap",overflow:"scroll",paddingTop:20,gap:20,"&::-webkit-scrollbar":{display:"none"},"& > div":{margin:0}}),ae=(0,r.ZP)(l.Z)({fontSize:17}),le=e=>{const[o,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(""),[l,s]=(0,n.useState)(JSON.parse(localStorage.getItem("profile"))),c=()=>{(0,B.Yu)("novel/getAuthorNovel",{created_user:e.authorId,login_id:l.login_id}).then((function(e){t(e.novel_data),a(e.user_image)})).catch((e=>{console.log(e)}))};(0,n.useEffect)((()=>{c()}),[]);const g=(0,i.s0)();return(0,h.jsxs)(ie,{children:[(0,h.jsx)(te,{authorNickName:e.authorNickName,authorId:e.authorId,user_image:r}),(0,h.jsx)(re,{children:0!==o.length?o.map((o=>(0,h.jsx)(ne.Z,{main_seqno:o.main_seqno,title:o.title,description:o.description,created_date:o.created_date,created_user:o.created_user,user_id:l.login_id,pick_yn:o.pick_yn,cover_image:o.cover_image,getNovelData:c,onClick:()=>{g("/novel_detail",{state:{props:o}}),e.closeModal()}},o.main_seqno))):(0,h.jsx)(ae,{children:d.$B.NO_INCOMPLETE_NOV})})]})},se=(0,r.ZP)(a.Z)({width:"100%",height:"100%",display:"flex",flexDirection:"column",padding:"0 3%",boxSizing:"border-box"}),ce=(0,r.ZP)(a.Z)({width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:10,marginTop:20,boxSizing:"border-box"}),de=(0,r.ZP)(a.Z)({flex:1,height:"100%",boxSizing:"border-box"}),he=(0,r.ZP)(a.Z)({flex:1,height:"100%",padding:10,boxSizing:"border-box"}),ge=(0,r.ZP)(a.Z)({padding:10,boxSizing:"border-box",width:"100%"}),xe=(0,r.ZP)(a.Z)({padding:10,boxSizing:"border-box"}),ue=(0,r.ZP)(l.Z)({fontSize:18,fontWeight:"bolder",textAlign:"center",marginBottom:-5}),pe=(0,r.ZP)(l.Z)({fontSize:14,marginBottom:10}),be=e=>{const[o,t]=(0,n.useState)([]),[i,r]=(0,n.useState)([]),[a,l]=(0,n.useState)([]);(0,n.useEffect)((()=>{(0,B.Yu)("common/tag").then((e=>{t(e)})).catch((e=>{console.log(e)}))}),[]);const c=(e,o)=>{const t="genre"===o?i:a,n="genre"===o?r:l,s=t.findIndex((o=>o===e)),c="genre"===o?1:2;if(-1===s){if(t.length>c)return void alert("genre"===o?d.$B.OVER_SELECTED_GENRE:d.$B.OVER_SELECTED_KEY_WORD);n([e,...t])}else n(t.filter((e=>e!==t[s])))};return(0,h.jsxs)(se,{children:[(0,h.jsx)(s.Z,{type:d.cO.BUTTON.BASIC,backgroundColor:d.r$.WHITE,color:"#121212"===e.color?d.r$.WHITE:d.r$.BLACK,name:d.GP.BUTTONS.GOTONEXT,margin:"5px 20px 5px auto",onClickNextBtn:()=>{0===i.length||0===a.length?alert(d.$B.MIN_SELECT_TAG):(e.changeState(),e.setTags({genre:i,keyword:a}))}}),(0,h.jsx)(ue,{children:d.$B.SELECT_TAG_INTRO}),(0,h.jsxs)(ce,{children:[(0,h.jsxs)(de,{children:[(0,h.jsxs)(ge,{children:[(0,h.jsx)(pe,{children:d.GP.SELECT.GENRE}),o.filter((e=>"GENRE"===e.group_code)).map(((e,o)=>(0,h.jsx)(s.Z,{type:d.cO.BUTTON.TAG,name:e.code_name,backgroundColor:"#".concat(e.color),onSelectTags:()=>c(e,"genre")},o)))]}),(0,h.jsxs)(xe,{children:[(0,h.jsx)(pe,{children:d.GP.SELECT.KEY_WORD}),o.filter((e=>"KEYWORD"===e.group_code)).map(((e,o)=>(0,h.jsx)(s.Z,{type:d.cO.BUTTON.TAG,name:e.code_name,backgroundColor:"#".concat(e.color),onSelectTags:()=>c(e,"keyword")},o)))]})]}),(0,h.jsxs)(he,{children:[i.map(((e,o)=>(0,h.jsx)(s.Z,{type:d.cO.BUTTON.TAG,name:e.code_name,backgroundColor:"#".concat(e.color)},o))),a.map(((e,o)=>(0,h.jsx)(s.Z,{type:d.cO.BUTTON.TAG,name:e.code_name,backgroundColor:"#".concat(e.color)},o)))]})]})]})},me=(0,r.ZP)(a.Z)({width:"100%",height:"100%",display:"flex",flexDirection:"column",padding:"0 3%",boxSizing:"border-box",paddingBottom:20}),_e=(0,r.ZP)(l.Z)({fontSize:18,fontWeight:"bolder",textAlign:"center",marginBottom:30}),fe=e=>{const[o,t]=(0,n.useState)("");return(0,h.jsxs)(me,{children:[(0,h.jsx)(s.Z,{type:d.cO.BUTTON.BASIC,backgroundColor:d.r$.WHITE,color:"#121212"===e.color?d.r$.WHITE:d.r$.BLACK,name:d.GP.BUTTONS.GOTONEXT,margin:"5px 20px 5px auto",postSubDesc:()=>{o.length<100?e.setDescription({description:o}):0!==o.length?alert(d.$B.ERROR.DESC_INVALIDATION):alert(d.$B.ERROR.WRITE_DESCRIPTION)},changeState:o.length<100&&e.changeState}),(0,h.jsx)(_e,{children:d.$B.WRITE_MAIN_NOVEL_INTRO}),(0,h.jsx)("textarea",{style:(i=e.color,{width:"100%",height:"100%",boxSizing:"borderBox",resize:"none",outline:"none",borderRadius:10,padding:10,fontSize:17,boxSizing:"border-box",backgroundColor:i,color:"#121212"===i?"white":"black"}),onChange:e=>{t(e.target.value)}})]});var i},Ze=(0,r.ZP)(a.Z)({width:"100%",height:"100%",display:"flex",flexDirection:"column",boxSizing:"border-box"}),Se=(0,r.ZP)(a.Z)({width:"100%",height:500,boxSizing:"border-box",marginBottom:5,display:"flex",flexDirection:"column"}),je=(0,r.ZP)(a.Z)({width:270,height:320,display:"flex",flexDirection:"column",boxSizing:"border-box",backgroundColor:d.r$.GREEN_TEA,margin:"8px auto",borderRadius:20}),Te=(0,r.ZP)(l.Z)({fontSize:11,color:d.r$.GRAY,fontWeight:"bold",margin:"0 auto"}),ve=(0,r.ZP)(l.Z)({fontSize:18,fontWeight:"bolder",textAlign:"center",marginBottom:20}),Ne=e=>{const[o,t]=(0,n.useState)(""),[i,r]=(0,n.useState)(""),a=(0,n.useMemo)((()=>""!==i?i:"".concat("http://54.180.116.208:8080/nov_cover","/cover_basic.jpg")),[i]),l=(0,n.useRef)(null);return(0,h.jsxs)(Ze,{children:[(0,h.jsx)(s.Z,{type:d.cO.BUTTON.BASIC,backgroundColor:d.r$.WHITE,color:"#121212"===e.color?d.r$.WHITE:d.r$.BLACK,name:d.GP.BUTTONS.SUBMIT,width:50,margin:"-10px 35px 5px auto",postSubNovData:e.postSubNovData}),(0,h.jsx)(ve,{children:d.$B.SELECT_COVER_INTRO}),(0,h.jsxs)(Se,{children:[(0,h.jsx)(Te,{children:d.$B.BASIC_COVER_INTRO}),(0,h.jsx)(je,{style:{backgroundImage:"url(".concat(a,")"),backgroundSize:"100% 100%"}}),(0,h.jsx)("input",{type:"file",accept:"image/jpg, image/jpeg, image/png",onChange:o=>(o=>{const n=o.target.files[0];if(e.setCoverImage({file:n}),t(n.name),n){const e=new FileReader;e.onloadend=()=>{r(e.result)},e.readAsDataURL(n)}})(o),style:{display:"none"},ref:l}),o&&(0,h.jsx)("p",{style:{fontSize:12,textAlign:"center",margin:"0 auto"},children:o}),(0,h.jsx)("button",{onClick:()=>{l.current.click()},style:(c=e.color,{backgroundColor:"transparent",color:"#121212"===c?"#ffffff":"#121212",border:"none",cursor:"pointer",display:"block",margin:"0 auto",fontSize:15}),children:d.GP.BUTTONS.UPLOAD_IMAGE})]})]});var c},ke=(0,r.ZP)(a.Z)({width:"100%",display:"flex",flexDirection:"column",padding:"0 3%",boxSizing:"border-box",marinTop:"-30px",height:"100%",paddingTop:20}),we=(0,r.ZP)(a.Z)({width:"100%",height:"88%",display:"flex",gap:20,boxSizing:"border-box"}),Ce=(0,r.ZP)(a.Z)({width:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"}),Pe=(0,r.ZP)(a.Z)({width:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"}),Ee=(0,r.ZP)(l.Z)({marginBottom:15,marginTop:-4,fontSize:18,fontWeight:"bold"}),Oe=(0,r.ZP)("div")({fontSize:15}),Be=(0,r.ZP)(a.Z)({boxSizing:"border-box",border:"2px solid grey",flex:1,border:"1px solid ".concat(d.r$.GRAY),borderRadius:10,padding:"8px 5px 0px 0px",boxSizing:"border-box",overflow:"auto",height:"100%"}),ye=(0,r.ZP)(a.Z)({boxSizing:"border-box",overflowY:"auto",height:"100%",padding:"0 3%","&::-webkit-scrollbar":{width:5},"&::-webkit-scrollbar-thumb":{backgroundColor:"#aaa",borderRadius:5},"&::-webkit-scrollbar-track":{backgroundColor:"transparent",width:10}}),Ie=e=>(0,h.jsxs)(ke,{children:[(0,h.jsx)(Ee,{children:e.subNovelData.sub_title}),(0,h.jsxs)(we,{children:[(0,h.jsx)(Ce,{children:(0,h.jsx)(Be,{children:(0,h.jsx)(ye,{children:(0,h.jsx)(Oe,{children:e.subNovelData&&e.subNovelData.content.split("\\n").map(((e,o)=>(0,h.jsxs)("div",{children:[e.replace("\\r",""),(0,h.jsx)("br",{})]},o)))})})})}),(0,h.jsx)(Pe,{children:(0,h.jsx)(Be,{children:(0,h.jsx)(ye,{children:(0,h.jsx)(Oe,{children:e.subNovelData&&e.subNovelData.sub_content.split("\\n").map(((e,o)=>(0,h.jsxs)("div",{children:[e.replace("\\r",""),(0,h.jsx)("br",{})]},o)))})})})})]}),e.subNovelData.created_user!==e.user_id&&!e.mainNovel.complete_seqno&&(0,h.jsx)(s.Z,{type:d.cO.BUTTON.BASIC,backgroundColor:d.r$.WHITE,color:"#121212"===e.color?d.r$.WHITE:d.r$.BLACK,name:d.GP.BUTTONS.LIKE_BTN,fontSize:15,margin:"0px -5px 0px auto",likeSubNovel:()=>{"N"===e.subNovelData.like_yn?window.confirm(d.$B.CONFIRM_VOTE)&&(0,B.qC)("novel/postLikeSubNovel",{sub_novel_seqno:e.subNovelData.sub_novel_seqno,user_id:e.user_id}).then((o=>{e.getSubNovelData(),alert(d.$B.VOTED)})).catch((e=>{console.log(e)})):"Y"===e.subNovelData.like_yn&&alert(d.$B.ALREADY_VOTED)}})]});var De=t(941);const Re=(0,r.ZP)(a.Z)({width:"99vw",height:"99vh",display:"flex",flexDirection:"column",padding:"0px 100px",boxSizing:"border-box"}),ze=(0,r.ZP)(a.Z)({height:"100%",display:"flex",flexWrap:"wrap"}),Ae=(0,r.ZP)(a.Z)({width:200,height:300,marginTop:5,borderRadius:15,backgroundColor:"pink",backgroundSize:"cover",backgroundRepeat:"no-repeat"}),$e=(0,r.ZP)(a.Z)({height:"70%",display:"flex",flexDirection:"column",padding:"10px"}),Ge=(0,r.ZP)(a.Z)({height:20,display:"flex",marginBottom:10}),Le=(0,r.ZP)(l.Z)({height:"5%",marginRight:"auto",marginLeft:10}),We=(0,r.ZP)(a.Z)({marginRight:10}),qe=()=>{const e=(0,i.TH)().state.props,[o,t]=(0,n.useState)(!1),[r,a]=(0,n.useState)(""),[l,c]=(0,n.useState)(""),[g,x]=(0,n.useState)(""),[u,p]=(0,n.useState)([]),[b,m]=(0,n.useState)({}),[_,f]=(0,n.useState)(0),[Z,S]=(0,n.useState)(!1),[j,v]=(0,n.useState)(JSON.parse(localStorage.getItem("profile"))),[N,k]=(0,n.useState)(!1),[w,C]=(0,n.useState)("#ffffff"),[P,y]=(0,n.useState)({main_novel_seqno:null,title:null,content:null,genre_1:null,genre_2:null,keyword_1:null,keyword_2:null,keyword_3:null,description:null,file:"cover_basic.jpg",created_user:j.login_id}),[I,D]=(0,n.useState)([]);(0,n.useEffect)((()=>{D([...u])}),[u]);const R=()=>{(0,B.Yu)("novel/getSubNovel",{main_novel_seqno:e.main_seqno,user_id:j.login_id}).then((function(e){p(e)})).catch((e=>{console.log(e)}))};(0,n.useEffect)((()=>{R()}),[e.main_seqno]);const A=()=>{t(!0)},$=()=>{t(!1)},G=e=>{y((o=>({...o,description:e.description})))},L=async()=>{let e;if("cover_basic.jpg"!==P.file){const o=P.file.type.split("/")[1];if(!["jpeg","jpg","png"].includes(o))return void alert(d.$B.ERROR.CHECK_EXT);const t=await(0,De.hv)(P.file);y((e=>({...e,file:t})));const n=new FormData;Object.keys(P).forEach((e=>{n.append(e,P[e])})),e=n}else e=P;(0,B.qC)("novel/postSubNovel",e).then((e=>{alert(e),$(),R()})).catch((e=>{console.log(e)}))};return(0,h.jsxs)(Re,{children:[(0,h.jsx)(T,{title:e.complete_novel_title?e.complete_novel_title:e.title,complete_seqno:e.complete_seqno,description:e.description,main_author_id:e.main_author_id,sub_author_id:e.sub_author_id,main_author_nickname:e.main_author_nickname,sub_author_nickname:e.sub_author_nickname,like_count:e.like_count,created_date:e.created_date,created_user:e.created_user,user_nickname:e.user_nickname,showModal:A,setPopup:e=>a(e),setAuthorId:e=>c(e),setAuthorNickName:e=>x(e),novelDdayCounter:(()=>{const o=new Date(e.created_date),t=new Date(o.setDate(o.getDate()+30)),n=new Date((new Date).getTime()+60*(new Date).getTimezoneOffset()*1e3+324e5);let i=t.getTime()-n.getTime(),r=Math.ceil(i/864e5);return 0===r?d.$B.D_DAY:r<0||e.complete_seqno?d.$B.DDAY_COMPLETE:d.$B.DDAY_COUNT+r})()}),(0,h.jsxs)(ze,{children:[(0,h.jsx)(Ae,{style:{backgroundImage:"url(".concat("http://54.180.116.208:8080/nov_cover","/").concat(encodeURIComponent(e.cover_image),")")}}),(0,h.jsxs)($e,{children:[(0,h.jsxs)(Ge,{children:[0!==u.length?(0,h.jsxs)(Le,{children:[u.length,d.$B.BOARD_COUNT]}):(0,h.jsx)(Le,{children:d.$B.WRITE_FIRST_NOVEL}),(0,h.jsxs)(We,{children:[(0,h.jsx)(s.Z,{type:d.cO.BUTTON.BASIC,name:d.GP.BUTTONS.LATEST,height:10,sortLatest:()=>S(!1)}),(0,h.jsx)(s.Z,{type:d.cO.BUTTON.BASIC,name:d.GP.BUTTONS.POPULAR,height:10,sortPopular:()=>{S(!0),I.sort(((e,o)=>o.sub_like_count-e.sub_like_count))}})]})]}),(0,h.jsx)(E,{subNovelData:u,changeState:()=>a("viewSubNov"),showModal:A,setNovelIdx:f,popularOrder:I,isPopular:Z})]})]}),(0,h.jsx)(O.Z,{fullWidth:!0,open:o,width:(0,De.Q$)(r),onClose:$,height:(0,De.cM)(r),mode:(0,De.ne)(r),setColor:e=>C(e),setColorInit:()=>C("#ffffff"),children:"viewComNov"===r?(0,h.jsx)(z,{complete_seqno:e.complete_seqno,color:w}):"viewIncomNov"===r?(0,h.jsx)(q,{changeState:()=>a("writeNov"),main_seqno:e.main_seqno,setMainNovel:e=>m(e),login_id:j.login_id,color:w}):"writeNov"===r?(0,h.jsx)(Q,{mainNovel:b,changeState:()=>a("selectTag"),setTitleContent:o=>(o=>{y((t=>({...t,title:""===o.title?e.title:o.title,content:o.content,main_novel_seqno:o.main_novel_seqno})))})(o),color:w}):"authorDetail"===r?(0,h.jsx)(le,{authorId:l,authorNickName:g,closeModal:$}):"selectTag"===r?(0,h.jsx)(be,{changeState:()=>a("novIntro"),setTags:e=>(e=>{y((o=>({...o,genre_1:e.genre[0].code,genre_2:e.genre[1]&&e.genre[1].code,keyword_1:e.keyword[0].code,keyword_2:e.keyword[1]&&e.keyword[1].code,keyword_3:e.keyword[2]&&e.keyword[2].code})))})(e),color:w}):"novIntro"===r?(0,h.jsx)(fe,{setDescription:G,changeState:()=>a("novCover"),color:w}):"novCover"===r?(0,h.jsx)(Ne,{setCoverImage:e=>(e=>{y((o=>({...o,file:e.file})))})(e),postSubNovData:L,color:w}):"viewSubNov"===r?(0,h.jsx)(Ie,{subNovelData:u[_],mainNovel:e,user_id:j.login_id,setIsLike:k,getSubNovelData:R,color:w}):void 0})]})}}}]);
//# sourceMappingURL=864.5c8e0ca8.chunk.js.map